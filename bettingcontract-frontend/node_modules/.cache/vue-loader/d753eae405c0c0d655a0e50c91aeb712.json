{"remainingRequest":"/Users/tombeck/Desktop/SmartContracts/BettingContractProject/bettingcontract-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tombeck/Desktop/SmartContracts/BettingContractProject/bettingcontract-frontend/src/components/Read-Bet-Infos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tombeck/Desktop/SmartContracts/BettingContractProject/bettingcontract-frontend/src/components/Read-Bet-Infos.vue","mtime":1628858298632},{"path":"/Users/tombeck/Desktop/SmartContracts/BettingContractProject/bettingcontract-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tombeck/Desktop/SmartContracts/BettingContractProject/bettingcontract-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/tombeck/Desktop/SmartContracts/BettingContractProject/bettingcontract-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tombeck/Desktop/SmartContracts/BettingContractProject/bettingcontract-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgV2ViMyBmcm9tICd3ZWIzJzsKaW1wb3J0IEJldHRpbmdDb250cmFjdCBmcm9tICcuLi9hYmlzL0JldHRpbmdDb250cmFjdC5qc29uJzsKCmV4cG9ydCBkZWZhdWx0IHsKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjY291bnQ6ICcweDAnLAogICAgICBhZG1pbjogJzB4MCcsCiAgICAgIGN1cnJlbnRCYWxhbmNlOiAwLAogICAgICBiZXR0aW5nQ29udHJhY3RBYmk6IDAsCiAgICAgIAogICAgfTsKICB9LAoKICBhc3luYyBiZWZvcmVNb3VudCgpewogICAgIGF3YWl0IHRoaXMuaW1wb3J0U21hcnRDb250cmFjdCgpOwogIH0sICAKCiAgbWV0aG9kczp7CgogICAgZ2V0QmV0U3ViamVjdDogZnVuY3Rpb24oKSB7CiAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJHZXRCZXRTdWJqZWN0IikudmFsdWUgIT0gIiIgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkdldEJldFN1YmplY3QiKS52YWx1ZSA+PSAwKSB7CgogICAgICAgIHRoaXMuYmV0dGluZ0NvbnRyYWN0QWJpLm1ldGhvZHMuZ2V0QmV0UmVhc29uKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJHZXRCZXRTdWJqZWN0IikudmFsdWUpLmNhbGwoKS50aGVuKCByZXN1bHQgPT4gYWxlcnQoIlRoZSBiZXQgaXMgYWJvdXQ6ICIgKyByZXN1bHQpKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiR2V0QmV0U3ViamVjdCIpLnZhbHVlID0gIiI7IAoKICAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoIlNvbWUgaW5mb3JtYXRpb25zIGFyZSBtaXNzaW5nIG9yIHlvdSBpbnB1dHRlZCB3cm9uZyBpbmZvcm1hdGlvbiIpOwogICAgICB9CiAgICB9LAoKICAgIGdldEJldEFtb3VudDogZnVuY3Rpb24oKSB7CiAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJHZXRCZXRBbW91bnQiKS52YWx1ZSAhPSAiIiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiR2V0QmV0QW1vdW50IikudmFsdWUgPj0gMCkgewoKICAgICAgICB0aGlzLmJldHRpbmdDb250cmFjdEFiaS5tZXRob2RzLmdldEJldEFtb3VudChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiR2V0QmV0QW1vdW50IikudmFsdWUpLmNhbGwoKS50aGVuKHJlc3VsdCA9PiBhbGVydCgiVGhlIGFtb3VudCBpcyAiICsgcmVzdWx0IC8gMTAqKjE4KyAiIGV0aGVyKHMpIikpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJHZXRCZXRBbW91bnQiKS52YWx1ZSA9ICIiOyAKCiAgICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCJTb21lIGluZm9ybWF0aW9ucyBhcmUgbWlzc2luZyBvciB5b3UgaW5wdXR0ZWQgd3JvbmcgaW5mb3JtYXRpb24iKTsKICAgICAgfQogICAgfSwKCiAgICBnZXRGaXJzdEJldHRlcjogZnVuY3Rpb24oKSB7CiAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJHZXRGaXJzdEJldHRlciIpLnZhbHVlICE9ICIiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJHZXRGaXJzdEJldHRlciIpLnZhbHVlID49IDApIHsKICAgICAgICB0aGlzLmJldHRpbmdDb250cmFjdEFiaS5tZXRob2RzLmdldEJldEZpcnN0QmV0dGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJHZXRGaXJzdEJldHRlciIpLnZhbHVlKS5jYWxsKCkudGhlbihyZXN1bHQgPT4gYWxlcnQoIlRoZSBmaXJzdCBiZXR0ZXIgYWRkcmVzcyBpczogIiArIHJlc3VsdCkpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJHZXRGaXJzdEJldHRlciIpLnZhbHVlID0gIiI7IAogICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgiU29tZSBpbmZvcm1hdGlvbnMgYXJlIG1pc3Npbmcgb3IgeW91IGlucHV0dGVkIHdyb25nIGluZm9ybWF0aW9uIik7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0U2Vjb25kQmV0dGVyOiBmdW5jdGlvbigpIHsKICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkdldFNlY29uZEJldHRlciIpLnZhbHVlICE9ICIiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJHZXRTZWNvbmRCZXR0ZXIiKS52YWx1ZSA+PSAwKSB7CiAgICAgICAgdGhpcy5iZXR0aW5nQ29udHJhY3RBYmkubWV0aG9kcy5nZXRCZXRTZWNvbmR0QmV0dGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJHZXRTZWNvbmRCZXR0ZXIiKS52YWx1ZSkuY2FsbCgpLnRoZW4ocmVzdWx0ID0+IGFsZXJ0KCJUaGUgc2Vjb25kIGJldHRlciBhZGRyZXNzIGlzOiAiICsgcmVzdWx0KSkKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiR2V0U2Vjb25kQmV0dGVyIikudmFsdWUgPSAiIjsgCiAgICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCJTb21lIGluZm9ybWF0aW9ucyBhcmUgbWlzc2luZyBvciB5b3UgaW5wdXR0ZWQgd3JvbmcgaW5mb3JtYXRpb24iKTsKICAgICAgfQogICAgfSwKCiAgICBnZXRUaGlyZFBhcnR5OiBmdW5jdGlvbigpIHsKICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkdldFRoaXJkUGFydHkiKS52YWx1ZSAhPSAiIiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiR2V0VGhpcmRQYXJ0eSIpLnZhbHVlID49IDApIHsKICAgICAgICB0aGlzLmJldHRpbmdDb250cmFjdEFiaS5tZXRob2RzLmdldEJldFRoaXJkUGFydHkoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkdldFRoaXJkUGFydHkiKS52YWx1ZSkuY2FsbCgpLnRoZW4ocmVzdWx0ID0+IGFsZXJ0KCJUaGUgdGhpcmRwYXJ0eSBhZGRyZXNzIGlzOiAiICsgcmVzdWx0KSkKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiR2V0VGhpcmRQYXJ0eSIpLnZhbHVlID0gIiI7IAogICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgiU29tZSBpbmZvcm1hdGlvbnMgYXJlIG1pc3Npbmcgb3IgeW91IGlucHV0dGVkIHdyb25nIGluZm9ybWF0aW9uIik7CiAgICAgIH0KICAgIH0sCgoKICAgIGFzeW5jIGltcG9ydFNtYXJ0Q29udHJhY3QoKXsKCiAgICAgIGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5zZW5kKCdldGhfcmVxdWVzdEFjY291bnRzJyk7CiAgICAgIAogICAgICBjb25zdCB3ZWIzID0gbmV3IFdlYjMod2luZG93LmV0aGVyZXVtKTsKCiAgICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgd2ViMy5ldGguZ2V0QWNjb3VudHMoKTsKICAgICAgdGhpcy5hY2NvdW50ID0gYWNjb3VudHNbMF0KICAgICAgCiAgICAgIGNvbnN0IG5ldElkID0gd2luZG93LmV0aGVyZXVtLm5ldHdvcmtWZXJzaW9uOwoKICAgICAgY29uc29sZS5sb2cobmV0SWQpCiAgICAgIAogICAgICBjb25zdCBiZXR0aW5nQ29udHJhY3REYXRhID0gQmV0dGluZ0NvbnRyYWN0Lm5ldHdvcmtzW25ldElkXTsKCiAgICAgIGNvbnNvbGUubG9nKGJldHRpbmdDb250cmFjdERhdGEpCiAgICAKICAgICAgaWYoYmV0dGluZ0NvbnRyYWN0RGF0YSl7CiAgICAgICAgY29uc3QgZmluYWxCZXR0aW5nQ29udHJhY3QgPSBuZXcgd2ViMy5ldGguQ29udHJhY3QoQmV0dGluZ0NvbnRyYWN0LmFiaSwgYmV0dGluZ0NvbnRyYWN0RGF0YS5hZGRyZXNzKTsKICAgICAgICB0aGlzLmJldHRpbmdDb250cmFjdEFiaSA9IGZpbmFsQmV0dGluZ0NvbnRyYWN0OwogICAgICB9ZWxzZXsKICAgICAgICB3aW5kb3cuYWxlcnQoJ0JldHRpbmcgc21hcnQgY29udHJhY3QgaGFzIG5vdCBiZWVuIGRlcGxveWVkIHRvIGRldGVjdGVkIG5ldHdvcmsnKTsKICAgICAgfQoKICAgIH0sCgoKICB9Cgp9Cg=="},{"version":3,"sources":["Read-Bet-Infos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA","file":"Read-Bet-Infos.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n  <h1>Want to read information from a bet ?</h1><br><br>\n\n  <label for=\"GetBetSubject\">Get the subject of a bet:</label><br>\n  <input class=\"backGroundColor\" type=\"number\" id=\"GetBetSubject\" name=\"GetBetSubject\" placeholder=\"Id of the bet\"><br><br>\n\n  <button v-on:click=\"getBetSubject\" class=\"backGroundColor button\" >Get the subject</button><br><br>\n\n  <label for=\"GetBetAmount\">Get the amount at stake in a bet:</label><br>\n  <input class=\"backGroundColor\" type=\"number\" id=\"GetBetAmount\" name=\"GetBetAmount\" placeholder=\"Id of the bet\"><br><br>\n\n  <button v-on:click=\"getBetAmount\" class=\"backGroundColor button\">Get bet amount</button><br><br>\n\n  <label for=\"GetFirstBetter\">Get the address of the first better:</label><br>\n  <input class=\"backGroundColor\" type=\"number\" id=\"GetFirstBetter\" name=\"GetFirstBetter\" placeholder=\"Id of the bet\"><br><br>\n\n  <button v-on:click=\"getFirstBetter\" class=\"backGroundColor button\">Get address </button><br><br>\n\n  <label for=\"GetSecondBetter\">Get the address of the second better:</label><br>\n  <input class=\"backGroundColor\" type=\"number\" id=\"GetSecondBetter\" name=\"GetSecondBetter\" placeholder=\"Id of the bet\"><br><br>\n\n  <button v-on:click=\"getSecondBetter\" class=\"backGroundColor button\">Get address </button><br><br>\n\n  <label for=\"GetThirdParty\">Get the address of the ThirdParty:</label><br>\n  <input class=\"backGroundColor\" type=\"number\" id=\"GetThirdParty\" name=\"GetThirdParty\" placeholder=\"Id of the bet\"><br><br>\n\n  <button v-on:click=\"getThirdParty\" class=\"backGroundColor button\">Get address </button><br><br>\n\n    </div>\n</template>\n\n<script>\n\nimport Web3 from 'web3';\nimport BettingContract from '../abis/BettingContract.json';\n\nexport default {\n\n  data() {\n    return {\n      account: '0x0',\n      admin: '0x0',\n      currentBalance: 0,\n      bettingContractAbi: 0,\n      \n    };\n  },\n\n  async beforeMount(){\n     await this.importSmartContract();\n  },  \n\n  methods:{\n\n    getBetSubject: function() {\n      if(document.getElementById(\"GetBetSubject\").value != \"\" && document.getElementById(\"GetBetSubject\").value >= 0) {\n\n        this.bettingContractAbi.methods.getBetReason(document.getElementById(\"GetBetSubject\").value).call().then( result => alert(\"The bet is about: \" + result));\n        document.getElementById(\"GetBetSubject\").value = \"\"; \n\n       } else {\n        alert(\"Some informations are missing or you inputted wrong information\");\n      }\n    },\n\n    getBetAmount: function() {\n      if(document.getElementById(\"GetBetAmount\").value != \"\" && document.getElementById(\"GetBetAmount\").value >= 0) {\n\n        this.bettingContractAbi.methods.getBetAmount(document.getElementById(\"GetBetAmount\").value).call().then(result => alert(\"The amount is \" + result / 10**18+ \" ether(s)\"));\n        document.getElementById(\"GetBetAmount\").value = \"\"; \n\n       } else {\n        alert(\"Some informations are missing or you inputted wrong information\");\n      }\n    },\n\n    getFirstBetter: function() {\n      if(document.getElementById(\"GetFirstBetter\").value != \"\" && document.getElementById(\"GetFirstBetter\").value >= 0) {\n        this.bettingContractAbi.methods.getBetFirstBetter(document.getElementById(\"GetFirstBetter\").value).call().then(result => alert(\"The first better address is: \" + result));\n        document.getElementById(\"GetFirstBetter\").value = \"\"; \n       } else {\n        alert(\"Some informations are missing or you inputted wrong information\");\n      }\n    },\n\n    getSecondBetter: function() {\n      if(document.getElementById(\"GetSecondBetter\").value != \"\" && document.getElementById(\"GetSecondBetter\").value >= 0) {\n        this.bettingContractAbi.methods.getBetSecondtBetter(document.getElementById(\"GetSecondBetter\").value).call().then(result => alert(\"The second better address is: \" + result))\n        document.getElementById(\"GetSecondBetter\").value = \"\"; \n       } else {\n        alert(\"Some informations are missing or you inputted wrong information\");\n      }\n    },\n\n    getThirdParty: function() {\n      if(document.getElementById(\"GetThirdParty\").value != \"\" && document.getElementById(\"GetThirdParty\").value >= 0) {\n        this.bettingContractAbi.methods.getBetThirdParty(document.getElementById(\"GetThirdParty\").value).call().then(result => alert(\"The thirdparty address is: \" + result))\n        document.getElementById(\"GetThirdParty\").value = \"\"; \n       } else {\n        alert(\"Some informations are missing or you inputted wrong information\");\n      }\n    },\n\n\n    async importSmartContract(){\n\n      await window.ethereum.send('eth_requestAccounts');\n      \n      const web3 = new Web3(window.ethereum);\n\n      const accounts = await web3.eth.getAccounts();\n      this.account = accounts[0]\n      \n      const netId = window.ethereum.networkVersion;\n\n      console.log(netId)\n      \n      const bettingContractData = BettingContract.networks[netId];\n\n      console.log(bettingContractData)\n    \n      if(bettingContractData){\n        const finalBettingContract = new web3.eth.Contract(BettingContract.abi, bettingContractData.address);\n        this.bettingContractAbi = finalBettingContract;\n      }else{\n        window.alert('Betting smart contract has not been deployed to detected network');\n      }\n\n    },\n\n\n  }\n\n}\n</script>\n\n<style>\n\n</style>"]}]}